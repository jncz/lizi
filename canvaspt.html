<html>
	<head>
		<meta http-equiv=Content-Type content="text/html;charset=utf-8">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="mobile-web-app-capable" content="yes">
		<meta name = "viewport" content = "width = device-width,initial-scale=1.0, user-scalable = no">
		<title>Canvas 性能基准测试</title>
		<script type="text/javascript" src="engine/js/util.js"></script>
		<script>
			"use strict"
			var img;
			var context;
			function paint(){
				
				context.save();
				context.globalCompositeOperation = "source-over";
				context.globalAlpha = 1;
				context.translate(16,16);
				context.scale(1,1);
				context.drawImage(img,0,0,32,32,-16,-16,32,32);
				context.restore();
				requestAnimationFrame(paint);
			}
			function runTest(){
				var canvas = $("mycanvas");
				context = canvas.getContext("2d");
				img = new Image();
				img.src = "res/images/map.png";
				img.onload=function(){
					if(img.complete==true){
						paint();
					}
				};
				
			}
		</script>
	</head>
	<style>
		html,body{
			margin:0px;
			padding:0px;
		}
		canvas{
			border:1px solid red;
		}
	</style>
	<body onload="runTest()">
		<canvas id="mycanvas" width="300" height="200"></canvas>
	</body>
</html>